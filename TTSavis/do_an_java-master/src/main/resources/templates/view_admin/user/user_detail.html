<section th:replace="/view_admin/fragment/header"></section>
<div class="mt-5 ml-5 mr-5">
    <h1>Cập nhật</h1>
    <form method="post" th:action="@{/user/create_update_user}" th:object="${userDto}" >
        <input class="d-none" type="text" th:value="${userDto.getId()}" name="id"></input>
        <div class="form-group">
            <label >Họ và tên:</label>
            <input type="text" th:value="${userDto.getFullname()}" name="fullname" class="form-control" required>
        </div>
        <div class="form-group">
            <label >Tài khoản:</label>
            <input type="text" disabled th:value="${userDto.getUsername()}" name="username" class="form-control" required >
        </div>
        <div class="form-group">
            <label >Email:</label>
            <input type="email" th:value="${userDto.getEmail()}" name="email" class="form-control" required >
        </div>
        <div class="form-check form-switch ps-0 is-filled">
            <input onchange="onChangePassword()" class="form-check-input ms-auto" type="checkbox" id="flexSwitchCheckDefault1">
            <label class="form-check-label text-body ms-3 text-truncate w-80 mb-0" for="flexSwitchCheckDefault1">Đổi mật khẩu</label>
        </div>
        <div class="form-group d-none" id="isChangePassword">
            <label >Nhập mật khẩu mới:</label>
            <input type="password" name="password" id="password_new" th:value="${userDto.getPassword()}" class="form-control" required>
        </div>
        <button type="submit" class="btn btn-primary mt-2">Lưu mới</button>
    </form>
</div>
<script>
    function onChangePassword(){
        $("#password_new").val("");
        if($("#flexSwitchCheckDefault1").is(':checked')){
            $("#isChangePassword").removeClass('d-none');
        }
        else
            $("#isChangePassword").addClass('d-none');
    }

    $("#user_view").addClass("active bg-gradient-primary");
</script>
<section th:replace="/view_admin/fragment/footer"></section>
